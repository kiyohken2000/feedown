# FeedOwn - å®Ÿè£…é€²è¡Œè¡¨

**æœ€çµ‚æ›´æ–°**: 2026-01-15
**ç¾åœ¨ã®ãƒ•ã‚§ãƒ¼ã‚º**: ğŸŸ¡ Phase 9 é€²è¡Œä¸­ï¼ˆMobile ã‚¢ãƒ—ãƒªï¼‰
**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**: Phase 10ï¼ˆãƒ†ã‚¹ãƒˆ & ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

---

## Phase 0: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

### ç’°å¢ƒæ§‹ç¯‰
- [x] ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ¢ãƒãƒ¬ãƒè¨­å®š (`package.json` workspaces)
- [x] `apps/web` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆVite + Reactï¼‰
- [x] `apps/mobile` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆExpoï¼‰
- [x] `packages/shared` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆå…±é€šãƒ­ã‚¸ãƒƒã‚¯ï¼‰
- [x] `workers` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆCloudflare Workersï¼‰
- [x] `functions` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆCloudflare Pages Functionsï¼‰
- [x] `.env.example` ã¨ `.env.shared` ä½œæˆ
- [x] `scripts/sync-envs.sh` ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

**å®Œäº†æ¡ä»¶**: `npm install` ãŒå…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§æˆåŠŸ âœ…

---

## Phase 1: Workersï¼ˆRSSå–å¾—ãƒ—ãƒ­ã‚­ã‚·ï¼‰ âœ…

- [x] `workers/src/index.ts` åŸºæœ¬æ§‹é€ ä½œæˆ
- [x] `GET /fetch?url={rssUrl}` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [x] KVã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…ï¼ˆTTL: 1æ™‚é–“ï¼‰
- [x] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆåŒã˜URL 1æ™‚é–“ã«1å›ï¼‰
- [x] ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº†

**å®Œäº†æ¡ä»¶**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™ã€ãƒ“ãƒ«ãƒ‰ç¢ºèªæ¸ˆã¿ âœ…

---

## Phase 2: Shared Packageï¼ˆå…±é€šãƒ­ã‚¸ãƒƒã‚¯ï¼‰ âœ…

- [x] å‹å®šç¾©ï¼ˆ`Feed`, `Article`, `User`, `ApiResponse`ï¼‰
- [x] API Clientï¼ˆèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³è‡ªå‹•ä»˜ä¸ï¼‰
- [x] ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆãƒãƒƒã‚·ãƒ¥ç”Ÿæˆã€æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€RSSãƒ‘ãƒ¼ã‚µãƒ¼ï¼‰

**å®Œäº†æ¡ä»¶**: ä»–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ import ã§ãã‚‹ âœ…

---

## Phase 3: Firebase ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ… (â†’ Phase 8ã§ Supabase ã«ç§»è¡Œ)

- [x] Firebase Console ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] Authentication æœ‰åŠ¹åŒ–ï¼ˆEmail/Passwordï¼‰
- [x] Firestore ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
- [x] Security Rules è¨­å®š

**Note**: Phase 8ã§Supabaseã«ç§»è¡Œäºˆå®š

---

## Phase 4: Pages Functionsï¼ˆAPIï¼‰ âœ… (â†’ Phase 8ã§ Supabase ã«ç§»è¡Œ)

- [x] èªè¨¼APIï¼ˆlogin, registerï¼‰
- [x] ãƒ•ã‚£ãƒ¼ãƒ‰APIï¼ˆCRUDï¼‰
- [x] è¨˜äº‹APIï¼ˆä¸€è¦§ã€æ—¢èª­ã€ãŠæ°—ã«å…¥ã‚Šï¼‰
- [x] ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥APIï¼ˆRSSå–å¾—ãƒ»ä¿å­˜ï¼‰
- [x] ãƒ¦ãƒ¼ã‚¶ãƒ¼APIï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã€ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢ï¼‰

**å®Œäº†æ¡ä»¶**: ã‚³ã‚¢APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…å®Œäº† âœ…

---

## Phase 5: Web UIï¼ˆMVPï¼‰ âœ…

- [x] ãƒ­ã‚°ã‚¤ãƒ³/æ–°è¦ç™»éŒ²ç”»é¢
- [x] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆè¨˜äº‹ä¸€è¦§ã€ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
- [x] ãƒ•ã‚£ãƒ¼ãƒ‰ç®¡ç†ï¼ˆè¿½åŠ ã€å‰Šé™¤ã€ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ä¸¦ã¹æ›¿ãˆï¼‰
- [x] ãŠæ°—ã«å…¥ã‚Š
- [x] è¨­å®šï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ï¼‰
- [x] è¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸
- [x] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- [x] ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

**å®Œäº†æ¡ä»¶**: Webã‚¢ãƒ—ãƒªãŒåŸºæœ¬æ©Ÿèƒ½ã™ã¹ã¦å‹•ä½œ âœ…

---

## Phase 6: Cloudflare Pages ãƒ‡ãƒ—ãƒ­ã‚¤ âœ…

- [x] GitHub ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥
- [x] Cloudflare Pages ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®š
- [x] Functions ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª

**ãƒ‡ãƒ—ãƒ­ã‚¤URL**: https://feedown.pages.dev âœ…

---

## Phase 7: Firestoreèª­ã¿å–ã‚Šæœ€é©åŒ– âœ…

- [x] é›†è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ–¹å¼å®Ÿè£…ï¼ˆreadArticles: 1000ä»¶â†’1ä»¶ã§99.9%å‰Šæ¸›ï¼‰
- [x] ãƒãƒƒãƒæ—¢èª­ãƒãƒ¼ã‚¯å®Ÿè£…
- [x] ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ­ã‚¸ãƒƒã‚¯æœ€é©åŒ–

**å®Ÿç¸¾**: æ¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆ2100ä»¶ â†’ 1101ä»¶ï¼ˆ48%å‰Šæ¸›ï¼‰âœ…

---

## Phase 8: Supabase ç§»è¡Œ âœ… å®Œäº†

### ç›®çš„
- Firestoreç„¡æ–™æ ã®åˆ¶é™ï¼ˆèª­ã¿å–ã‚Š5ä¸‡ä»¶/æ—¥ã€æ›¸ãè¾¼ã¿2ä¸‡ä»¶/æ—¥ï¼‰ã‚’è§£æ¶ˆ
- PostgreSQLã®æŸ”è»Ÿãªã‚¯ã‚¨ãƒªã‚’æ´»ç”¨

### Step 1: Supabaseæº–å‚™ âœ…
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆSQLå®Ÿè¡Œï¼‰
- [x] RLSãƒãƒªã‚·ãƒ¼è¨­å®š
- [x] ç’°å¢ƒå¤‰æ•°è¨­å®š

### Step 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç§»è¡Œ âœ…
- [x] `functions/lib/supabase.ts` æ–°è¦ä½œæˆ
- [x] `functions/lib/auth.ts` æ›¸ãæ›ãˆï¼ˆSupabase JWTæ¤œè¨¼ï¼‰
- [x] `functions/api/feeds/index.ts` ç§»è¡Œ
- [x] `functions/api/feeds/[id].ts` ç§»è¡Œ
- [x] `functions/api/articles/index.ts` ç§»è¡Œï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–å¯¾å¿œï¼‰
- [x] `functions/api/articles/batch-read.ts` ç§»è¡Œ
- [x] `functions/api/articles/[id]/read.ts` ç§»è¡Œ
- [x] `functions/api/articles/[id]/favorite.ts` ç§»è¡Œ
- [x] `functions/api/favorites.ts` ç§»è¡Œ
- [x] `functions/api/refresh.ts` ç§»è¡Œ
- [x] `functions/api/user/account.ts` ç§»è¡Œ
- [x] `functions/api/user/data.ts` ç§»è¡Œ
- [x] `functions/lib/firebase-rest.ts` å‰Šé™¤

### Step 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç§»è¡Œ âœ…
- [x] `apps/web/src/lib/supabase.js` æ–°è¦ä½œæˆ
- [x] `apps/web/src/App.jsx` èªè¨¼çŠ¶æ…‹ç®¡ç†
- [x] `apps/web/src/pages/LoginPage.jsx` Supabase Authå¯¾å¿œ
- [x] `apps/web/src/pages/SettingsPage.jsx` ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¯¾å¿œ
- [x] `apps/web/src/pages/DashboardPage.jsx` stale closureä¿®æ­£
- [x] å„ãƒšãƒ¼ã‚¸ã®APIãƒˆãƒ¼ã‚¯ãƒ³å–å¾—æ›´æ–°

### Step 4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å®Ÿè£… ğŸ”´ æœªå®Ÿè£…ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] `apps/web/src/hooks/useRealtimeArticles.js` ä½œæˆ
- [ ] DashboardPageã«Realtimeçµ±åˆ

### Step 5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° âœ…
- [x] `docs/DESIGN.md` æ›´æ–°
- [x] `docs/PROGRESS.md` æ›´æ–°
- [x] `HANDOFF.md` ä½œæˆ

### ä¿®æ­£ã—ãŸå•é¡Œ
1. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å•é¡Œ**: `Cache-Control: no-cache` ã«å¤‰æ›´
2. **stale closure**: `handleRefreshRef` ãƒ‘ã‚¿ãƒ¼ãƒ³ã§è§£æ±º
3. **Delete Account**: Authå‰Šé™¤ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã«

**å®Œäº†æ¡ä»¶**: Supabaseã§å…¨æ©Ÿèƒ½ãŒå‹•ä½œ âœ…

---

## Phase 9: Mobile ã‚¢ãƒ—ãƒªï¼ˆExpoï¼‰ ğŸŸ¡ é€²è¡Œä¸­

### Step 1: ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆèµ·å‹•ãƒ»ãƒ“ãƒ«ãƒ‰ âœ…
- [x] ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã§Expo Goèµ·å‹•
- [x] ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆè¨­å®šï¼ˆ`App.js` + `registerRootComponent`ï¼‰
- [x] babel.config.js module-resolverã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š
- [x] EAS Buildï¼ˆiOS previewï¼‰æˆåŠŸ
- [x] ä¾å­˜é–¢ä¿‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³èª¿æ•´ï¼ˆexpo, expo-updates, react-native-workletsï¼‰

### Step 2: Supabaseèªè¨¼å®Ÿè£… ğŸ”´ æœªç€æ‰‹
- [ ] SignInç”»é¢ã‚’Supabase Authå¯¾å¿œã«å¤‰æ›´
- [ ] SignUpç”»é¢ã‚’Supabase Authå¯¾å¿œã«å¤‰æ›´
- [ ] AsyncStorageã§ã‚»ãƒƒã‚·ãƒ§ãƒ³æ°¸ç¶šåŒ–
- [ ] è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½

### Step 3: APIé€£æº ğŸ”´ æœªç€æ‰‹
- [ ] APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆï¼ˆCloudflare Pages Functionså‘¼ã³å‡ºã—ï¼‰
- [ ] ãƒ•ã‚£ãƒ¼ãƒ‰ä¸€è¦§å–å¾—
- [ ] è¨˜äº‹ä¸€è¦§å–å¾—
- [ ] ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ©Ÿèƒ½

### Step 4: ç”»é¢å®Ÿè£… ğŸ”´ æœªç€æ‰‹
- [ ] Dashboardç”»é¢ï¼ˆè¨˜äº‹ä¸€è¦§ï¼‰
- [ ] ãƒ•ã‚£ãƒ¼ãƒ‰ç®¡ç†ç”»é¢
- [ ] ãŠæ°—ã«å…¥ã‚Šç”»é¢
- [ ] è¨­å®šç”»é¢ï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ï¼‰
- [ ] è¨˜äº‹è©³ç´°ç”»é¢ï¼ˆWebViewï¼‰

### Step 5: UXæ”¹å–„ ğŸ”´ æœªç€æ‰‹
- [ ] ãƒ—ãƒ«ãƒˆã‚¥ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
- [ ] ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰

**å®Œäº†æ¡ä»¶**: iOS/Androidã§å…¨æ©Ÿèƒ½ãŒå‹•ä½œ

---

## Phase 10: ãƒ†ã‚¹ãƒˆ & ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ğŸ”´ æœªç€æ‰‹

- [ ] Workers: RSSå–å¾—ãƒ†ã‚¹ãƒˆ
- [ ] Functions: APIçµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] Web: E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰
- [ ] `docs/SETUP.md` - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- [ ] `docs/API.md` - APIä»•æ§˜æ›¸

**å®Œäº†æ¡ä»¶**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã ç¬¬ä¸‰è€…ãŒè‡ªåˆ†ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹

---

## Phase 11: App Store/Google Play ãƒªãƒªãƒ¼ã‚¹ï¼ˆä»»æ„ï¼‰ ğŸ”´ æœªç€æ‰‹

- [ ] Apple Developer ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²
- [ ] Google Play Console ã§ã‚¢ãƒ—ãƒªä½œæˆ
- [ ] EAS Build è¨­å®š
- [ ] å¯©æŸ»æå‡ºãƒ»ãƒªãƒªãƒ¼ã‚¹

---

## é€²æ—ã‚µãƒãƒªãƒ¼

| Phase | ã‚¿ã‚¹ã‚¯æ•° | å®Œäº† | é€²æ—ç‡ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|---------|------|--------|-----------|
| Phase 0: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | 8 | 8 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 1: Workers | 5 | 5 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 2: Shared Package | 3 | 3 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 3: Firebase | 4 | 4 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 4: Pages Functions | 5 | 5 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 5: Web UI | 10 | 10 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 6: Cloudflare Pages ãƒ‡ãƒ—ãƒ­ã‚¤ | 4 | 4 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 7: Firestoreæœ€é©åŒ– | 3 | 3 | 100% | ğŸŸ¢ å®Œäº† |
| Phase 8: Supabaseç§»è¡Œ | 20 | 18 | 90% | ğŸŸ¢ å®Œäº† |
| Phase 9: Mobile | 18 | 5 | 28% | ğŸŸ¡ é€²è¡Œä¸­ |
| Phase 10: ãƒ†ã‚¹ãƒˆ & ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 5 | 0 | 0% | ğŸ”´ æœªç€æ‰‹ |
| Phase 11: App Store ãƒªãƒªãƒ¼ã‚¹ | 4 | 0 | 0% | ğŸ”´ æœªç€æ‰‹ |

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆç§»è¡Œå¾Œï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ |
|---------|------|
| Frontend (Web) | Vite + React + JavaScript |
| Frontend (Mobile) | Expo + React Native |
| Backend API | Cloudflare Pages Functions |
| RSS Proxy | Cloudflare Workers + KV |
| Database | **Supabase PostgreSQL** |
| Auth | **Supabase Auth** |
| Realtime | **Supabase Realtime** |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª: Supabaseèªè¨¼å®Ÿè£…**ï¼ˆPhase 9 Step 2ï¼‰
2. **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª: APIé€£æº**ï¼ˆPhase 9 Step 3ï¼‰
3. **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª: ç”»é¢å®Ÿè£…**ï¼ˆPhase 9 Step 4ï¼‰
4. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³: Supabase Realtimeï¼‰
