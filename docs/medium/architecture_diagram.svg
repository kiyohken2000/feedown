<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="600" viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 16px sans-serif; fill: #333; }
      .subtitle { font: 12px sans-serif; fill: #666; }
      .label { font: bold 11px sans-serif; fill: #fff; }
      .small-label { font: 10px sans-serif; fill: #666; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-label { font: 10px sans-serif; fill: #888; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <!-- Gradients -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F9CF9"/>
      <stop offset="100%" style="stop-color:#2D7DD2"/>
    </linearGradient>
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F7931E"/>
      <stop offset="100%" style="stop-color:#F15A24"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3ECF8E"/>
      <stop offset="100%" style="stop-color:#2DA672"/>
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9B59B6"/>
      <stop offset="100%" style="stop-color:#7D3C98"/>
    </linearGradient>
    <linearGradient id="grayGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#95A5A6"/>
      <stop offset="100%" style="stop-color:#7F8C8D"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="#FAFBFC"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" class="title" style="font-size: 20px;">FeedOwn System Architecture</text>
  <text x="450" y="55" text-anchor="middle" class="subtitle">Serverless RSS Reader - $0/month hosting</text>

  <!-- ========== CLIENTS SECTION ========== -->
  <rect x="30" y="80" width="840" height="100" rx="10" fill="#E8F4FD" stroke="#B8D4E8" stroke-width="1"/>
  <text x="50" y="100" class="small-label" style="fill: #5D9CEC;">CLIENTS</text>

  <!-- Web App -->
  <rect x="150" y="110" width="140" height="55" rx="8" fill="url(#blueGrad)"/>
  <text x="220" y="135" text-anchor="middle" class="label">Web App</text>
  <text x="220" y="152" text-anchor="middle" class="label" style="font-weight: normal; font-size: 10px;">React + Vite</text>

  <!-- Mobile App -->
  <rect x="610" y="110" width="140" height="55" rx="8" fill="url(#blueGrad)"/>
  <text x="680" y="135" text-anchor="middle" class="label">Mobile App</text>
  <text x="680" y="152" text-anchor="middle" class="label" style="font-weight: normal; font-size: 10px;">React Native + Expo</text>

  <!-- ========== CLOUDFLARE SECTION ========== -->
  <rect x="30" y="210" width="840" height="140" rx="10" fill="#FFF4E6" stroke="#F5D0A9" stroke-width="1"/>
  <text x="50" y="230" class="small-label" style="fill: #F5A623;">CLOUDFLARE EDGE (300+ Global Locations)</text>

  <!-- Cloudflare Pages (expanded to full width) -->
  <rect x="60" y="250" width="780" height="85" rx="8" fill="url(#orangeGrad)"/>
  <text x="450" y="275" text-anchor="middle" class="label">Cloudflare Pages</text>

  <!-- Static Assets -->
  <rect x="100" y="290" width="200" height="35" rx="5" fill="#fff" stroke="#F5A623"/>
  <text x="200" y="313" text-anchor="middle" style="font: bold 11px sans-serif; fill: #F5A623;">Static Assets</text>

  <!-- Pages Functions -->
  <rect x="350" y="290" width="200" height="35" rx="5" fill="#fff" stroke="#F5A623"/>
  <text x="450" y="313" text-anchor="middle" style="font: bold 11px sans-serif; fill: #F5A623;">Pages Functions (API)</text>

  <!-- Direct RSS Fetch label -->
  <rect x="600" y="290" width="200" height="35" rx="5" fill="#fff" stroke="#F5A623"/>
  <text x="700" y="313" text-anchor="middle" style="font: bold 11px sans-serif; fill: #F5A623;">Direct RSS Fetching</text>

  <!-- ========== SUPABASE SECTION ========== -->
  <rect x="30" y="380" width="400" height="140" rx="10" fill="#E6F9F0" stroke="#A3E4C1" stroke-width="1"/>
  <text x="50" y="400" class="small-label" style="fill: #3ECF8E;">SUPABASE (Backend as a Service)</text>

  <!-- PostgreSQL -->
  <rect x="60" y="420" width="160" height="85" rx="8" fill="url(#greenGrad)"/>
  <text x="140" y="450" text-anchor="middle" class="label">PostgreSQL</text>
  <text x="140" y="470" text-anchor="middle" class="label" style="font-weight: normal; font-size: 9px;">users, feeds,</text>
  <text x="140" y="485" text-anchor="middle" class="label" style="font-weight: normal; font-size: 9px;">articles, favorites</text>

  <!-- Supabase Auth -->
  <rect x="250" y="420" width="160" height="85" rx="8" fill="url(#greenGrad)"/>
  <text x="330" y="450" text-anchor="middle" class="label">Supabase Auth</text>
  <text x="330" y="470" text-anchor="middle" class="label" style="font-weight: normal; font-size: 9px;">JWT Authentication</text>
  <text x="330" y="485" text-anchor="middle" class="label" style="font-weight: normal; font-size: 9px;">Token Refresh</text>

  <!-- ========== EXTERNAL FEEDS ========== -->
  <rect x="470" y="380" width="400" height="140" rx="10" fill="#F4F0FA" stroke="#D4C4E8" stroke-width="1"/>
  <text x="490" y="400" class="small-label" style="fill: #9B59B6;">EXTERNAL RSS FEEDS</text>

  <!-- Feed Icons -->
  <rect x="500" y="425" width="100" height="40" rx="5" fill="url(#purpleGrad)"/>
  <text x="550" y="450" text-anchor="middle" class="label" style="font-size: 10px;">News Sites</text>

  <rect x="620" y="425" width="100" height="40" rx="5" fill="url(#purpleGrad)"/>
  <text x="670" y="450" text-anchor="middle" class="label" style="font-size: 10px;">Tech Blogs</text>

  <rect x="740" y="425" width="100" height="40" rx="5" fill="url(#purpleGrad)"/>
  <text x="790" y="450" text-anchor="middle" class="label" style="font-size: 10px;">Podcasts</text>

  <rect x="560" y="480" width="180" height="30" rx="5" fill="url(#grayGrad)"/>
  <text x="650" y="500" text-anchor="middle" class="label" style="font-size: 10px;">RSS 2.0 / Atom / RDF</text>

  <!-- ========== ARROWS ========== -->

  <!-- Web App to Pages -->
  <path d="M 220 165 L 220 200 L 350 200 L 350 250" class="arrow"/>
  <text x="260" y="195" class="arrow-label">HTTPS</text>

  <!-- Mobile App to Pages -->
  <path d="M 680 165 L 680 200 L 550 200 L 550 250" class="arrow"/>
  <text x="590" y="195" class="arrow-label">HTTPS API</text>

  <!-- Pages Functions to Supabase -->
  <path d="M 400 335 L 400 360 L 230 360 L 230 380" class="arrow"/>
  <text x="280" y="370" class="arrow-label">SQL Queries</text>

  <!-- Pages Functions to External Feeds (direct) -->
  <path d="M 700 335 L 700 360 L 650 360 L 650 380" class="arrow"/>
  <text x="710" y="370" class="arrow-label">HTTP GET (direct)</text>

  <!-- ========== LEGEND ========== -->
  <rect x="30" y="540" width="840" height="50" rx="5" fill="#fff" stroke="#ddd"/>
  <text x="50" y="560" class="small-label" style="font-weight: bold;">FREE TIER LIMITS:</text>
  <text x="50" y="578" class="small-label">Cloudflare Pages: 100K requests/day</text>
  <text x="300" y="578" class="small-label">Supabase: 500MB DB, 50K auth users</text>
  <text x="680" y="560" class="small-label" style="font-weight: bold; fill: #3ECF8E;">MONTHLY COST: $0</text>
</svg>
